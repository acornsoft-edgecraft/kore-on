# "###"는 미상용중 제거 대상

[koreon]
## Required
## - 
## Optional
## - cluster-name: use cluster name in config context (default: "kubernetes")
## - install-dir: installation scripts(harbor, shell scripts) save directory (default: "/var/lib/kore-on")
## - cert-validity-days: SSL validity days(default: 36500)
## - debug-mode: verbose 옵션 사용 여부 선택 (default: false)
## - closed-network: Air Gap 선언 (default: false)
## - local-repository: local repository 서비스 url (Required when selecting the closed network.)
## - local-repository-archive-file: local repository packages archive file path (Required when selecting the closed network.)
#cluster-name = "test-cluster"
#install-dir = "/var/lib/kore-on"
#cert-validity-days = 3650
#debug-mode = true
#closed-network = false
#local-repository = "http://192.168.88.145:8080"
#local-repository-archive-file = "/tmp/koreon/local-repo.20220224_071700.tgz"

[kubernetes]
## Required
## - 
## Optional
## - version: kubernetes version (default: "latest")
## - container-runtime: use k8s cri (only containerd)
## - kube-proxy-mode: use k8s proxy mode [iptables | ipvs] (default: "ipvs")
## - service-cidr: k8s service network cidr (default: "10.96.0.0/20")
## - pod-cidr: k8s pod network cidr (default: "10.4.0.0/24")
## - node-port-range: k8s node port network range (default: "30000-32767")
## - audit-log-enable: k8s audit log enabled (default: true)
## - api-sans: k8s apiserver SAN 추가 [--apiserver-cert-extra-sans 설정과 동일] (default: [])
version = "1.19.10"
#container-runtime = "containerd"
#kube-proxy-mode = "ipvs"
#service-cidr ="10.96.0.0/20"
#pod-cidr="10.32.0.0/12"
#node-port-range="30000-32767"
###audit-log-enable = true ##필수 고정 항목이다
#api-sans = ["192.168.1.9"]

[kubernetes.etcd]
## Required
## - 
## Optional
## - external-etcd: used external etcd than input the ip and private-ip address (default: false)
##                  not used than skip ip address. it is used control plane nodes as automatic.
external-etcd = false
#ip = []
#private-ip = []


[kubernetes.calico]
## Required
## - 
## Optional
## - version: calico version (default: "latest")
## - vxlan-mode: calico VXLAN mode activate (default: false)
version = v3.24
#vxlan-mode = true


[node-pool]
## Required
## - 
## Optional
## - data-dir: data(backup, docker, log, kubelet, etcd, k8s-audit, containerd) root dir (default: "/data") 
data-dir = "/data"

[node-pool.security]
## Required
## - ssh-user-id: node user id (You can skip this entry by using the --user command option)
## - private-key-path: ssh private key path (You can skip this entry by using the --private-key-path command option)
#ssh-user-id = "centos"
#private-key-path = "/tmp/cert/id_rsa"

[node-pool.master]
## Required
## - ip: k8s control plane nods ip address. (this is using it to generate an inventory)
## - private-ip: K8s control plane nods private ip address. (this is using it to generate an inventory)
## Optional
## - lb-ip: loadbalancer ip address (default: master[0] node ip address)
## - isolated: K8s control plane nodes isolated (default: true)
## - haproxy-install: K8s control plane nodes isolated (default: true)
ip = ["192.168.77.234","192.168.77.235","192.168.77.236"]
private-ip = ["3.0.0.1","3.0.0.2","3.0.0.3"]
#lb-ip = "192.168.77.234"
#isolated = true
haproxy-install = true

[node-pool.node]
ip = ["192.168.77.237", "192.168.77.238"]
private-ip = ["3.0.0.11", "3.0.0.12"]

[private-registry]
install = true
registry-ip = "192.168.77.239"
private-ip = "3.0.0.50"
data-dir = "/data/harbor"
public-cert = false
#registry-archive-file = "/tmp/koreon/harbor.20220224_072307.tgz"

[private-registry.cert-file]
ssl-certificate = ""
ssl-certificate-key = ""

# install true = NFS Storage install at node of storage-ip
[shared-storage]
install = true
storage-ip = "192.168.77.239"
private-ip = "3.0.0.50"
volume-dir = "/data/storage"
volume-size = 1000
