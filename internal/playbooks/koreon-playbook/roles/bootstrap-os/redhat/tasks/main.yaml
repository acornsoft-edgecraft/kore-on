---
- include_tasks: "add-repo-rhel-{{ansible_distribution_major_version}}.yaml"
  when: 
    - not closed_network
    - ansible_distribution_major_version is defined

- include_tasks: add-local-repo.yaml
  when: 
    - closed_network

# # For required Python library ------------------------------------------------
# - name: install pre-requisites
#   ansible.builtin.pip:
#     name:
#       - pyyaml
#       - kubernetes 
#       - jsonpatch
#   when:
#     - ansible_distribution_major_version | int >= 8
# # ----------------------------------------------------------------------------